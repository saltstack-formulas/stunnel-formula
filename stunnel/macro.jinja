# -*- coding: utf-8 -*-
# vim: ft=jinja

{%- macro service_segment(name, config) -%}
[ {{ name }} ]
{%  for key in config.keys() | sort -%}
{%    set setting = config.get(key) -%}
{%    if setting is iterable and setting is not string -%}
{%      for value in setting -%}
{{ key }} = {{ value }}
{%      endfor -%}
{%    else -%}
{%      if setting is sameas True -%}
{%        set value = 'yes' -%}
{%      elif setting is sameas False -%}
{%        set value = 'no'-%}
{%      else -%}
{%        set value = setting -%}
{%      endif -%}
{{ key }} = {{ value }}
{%    endif -%}
{% endfor -%}
{% endmacro -%}
